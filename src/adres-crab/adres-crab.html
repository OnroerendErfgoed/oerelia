<template>
  <div class="adres-crab">
    <div class="placeholder-container placeholder-transparent">
      <label>Land</label>
      <select value.bind="data.land">
        <option selected style="display: none;" value="${landen[0].id}">${landen[0].naam}</option>
        <option repeat.for="land of landen" value.bind="land.id">
          ${land.naam}
        </option>
      </select>
    </div>
    <div if.bind="data.land === 'BE'">
      <div class="placeholder-container ${ !data.land ? 'placeholder-disabled' : '' }">
        <label>Gemeente <span title="Opgelet, enkel de hoofdgemeenten (en niet de deelgemeenten) kunnen ingevuld worden.">(?)</span></label>
        <autocomplete service.bind="suggest.gemeenten" value.bind="data.gemeente & validate" label="naam" placeholder="gemeente" disabled.bind="!data.land" change.delegate="gemeenteChanged()">
          <template replace-part="suggestion">
            ${suggestion.naam}
          </template>
        </autocomplete>
      </div>
      <div class="placeholder-container ${ !data.gemeente.id ? 'placeholder-disabled' : '' }">
        <label>Postcode</label>
        <autocomplete service.bind="suggest.postcodes" value.bind="data.postcode & validate" label="naam" placeholder="postcode" disabled.bind="!data.gemeente.id">
          <template replace-part="suggestion">
            ${suggestion.naam}
          </template>
        </autocomplete>
      </div>
      <div class="placeholder-container ${ !data.gemeente.id ? 'placeholder-disabled' : '' }">
        <label>Straat</label>
        <autocomplete service.bind="suggest.straten" value.bind="data.straat & validate" label="naam" placeholder="straat" disabled.bind="!data.gemeente.id" change.delegate="straatChanged()">
          <template replace-part="suggestion">
            ${suggestion.naam}
          </template>
        </autocomplete>
      </div>
      <div class="placeholder-container ${ !data.straat ? 'placeholder-disabled' : '' }">
        <label>Huisnummer</label>
        <autocomplete service.bind="suggest.huisnummers" label="naam" placeholder="huisnummer" minlength="1" disabled.bind="!data.straat" value.bind="data.huisnummer & validate" type.bind="autocompleteType.Suggest">
          <template replace-part="suggestion">
            ${suggestion.naam}
          </template>
        </autocomplete>
      </div>
    </div>
    <div if.bind="data.land !== 'BE'">
      <div class="placeholder-container">
        <label>Gemeente <span title="Opgelet, enkel de hoofdgemeenten (en niet de deelgemeenten) kunnen ingevuld worden.">(?)</span></label>
        <input type="text" value.bind="gemeente & validate" placeholder="gemeente" change.delegate="parseField(gemeente, 'gemeente')">
      </div>
      <div class="placeholder-container">
        <label>Postcode</label>
        <input type="text" value.bind="postcode & validate" placeholder="postcode" change.delegate="parseField(postcode, 'postcode')">
      </div>
      <div class="placeholder-container">
        <label>Straat</label>
        <input type="text" value.bind="straat & validate" placeholder="straat" change.delegate="parseField(straat, 'straat')">
      </div>
      <div class="placeholder-container">
        <label>Huisnummer</label>
        <input type="text" value.bind="huisnummer & validate" placeholder="huisnummer" change.delegate="parseField(huisnummer, 'huisnummer')">
      </div>
    </div>
    <div class="placeholder-container placeholder-transparent">
      <label>Busnr.</label>
      <input type="text" value.bind="data.subadres" placeholder="postbus">
    </div>
  </div>
</template>
